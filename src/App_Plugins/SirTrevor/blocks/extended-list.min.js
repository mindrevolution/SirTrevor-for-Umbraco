SirTrevor.Blocks.List=function(){var n=_.template('<div>\n<div class="st-text-block st-required" contenteditable="true"><ul><li><\/li><\/ul><\/div>\n<div class="st-block__control-ui">\n<select class="st-list--dropdown st-block-control-ui-btn" style="background-color:inherit;color:black;width:7.5em;height:2.5em;font-size:1em;">\n<option value="">universal<\/option>\n<option value="alphabet">alphabetical<\/option>\n<\/select>\n<\/div>\n<\/div>');return SirTrevor.Block.extend({type:"list",title:"List",icon_name:"list",editorHTML:function(){return n(this)},loadData:function(n){this.getTextBlock().html("<ul>"+SirTrevor.toHTML(n.text,this.type)+"<\/ul>");var t=this.$el.find(".st-list--dropdown option").filter(function(){return $(this).val()==n.type||$(this).text()==n.type});t.prop("selected",!0)},onBlockRender:function(){var n=this.$el.find(".st-list--dropdown");n.on("change",{dropdown:n,block:this},function(n){$(n.data.dropdown).find("option:selected").each(function(){var t={};t.type=$(this).val();t.type==""&&(t.type=undefined);n.data.block.setData(t)})});this.checkForList=_.bind(this.checkForList,this);this.getTextBlock().on("click keyup",this.checkForList)},checkForList:function(){this.$("ul").length===0&&document.execCommand("insertUnorderedList",!1,!1)},toMarkdown:function(n){return n.replace(/<\/li>/mg,"\n").replace(/<\/?[^>]+(>|$)/g,"").replace(/^(.+)$/mg," - $1")},toHTML:function(n){return n.replace(/^ - (.+)$/mg,"<li>$1<\/li>").replace(/\n/mg,"")},onContentPasted:function(n,t){var i=this.pastedMarkdownToHTML(t[0].innerHTML),r=this.$("ul").html(i);this.getTextBlock().caretToEnd()},isEmpty:function(){return _.isEmpty(this.saveAndGetData().text)}})}();
/*
//# sourceMappingURL=extended-list.min.js.map
*/