angular.module("umbraco").controller("SirTrevor.Controller",["$scope","dialogService","assetsService",function(n,t,i){var r=["/App_Plugins/SirTrevor/lib/eventable.js","/App_Plugins/SirTrevor/lib/sir-trevor.min.js","/App_Plugins/SirTrevor/formatters/umbraco.min.js"],u=[],f=[],e=[];angular.forEach(n.model.config.blocktypes,function(n){n.Active&&(n.Filename&&r.push("/App_Plugins/SirTrevor/blocks/"+n.Filename),u.push(n.Name));n.Mandatory&&f.push(n.Name);n.Limit&&parseInt(n.Limit)>0&&(e[n.Name]=n.Limit)});n.createEditor=function(){var t=new SirTrevor.Editor({el:$("#sir-trevor-"+n.model.id),blockTypes:u,blockLimit:parseInt(n.model.config.blockLimit),required:f,blockTypeLimits:e});n.$on("formSubmitting",function(){t.onFormSubmit();n.model.value=t.dataStore})};i.load(r,n).then(function(){setTimeout(function(){n.createEditor(n)},0)});i.loadCss("/app_plugins/SirTrevor/lib/sir-trevor.css");i.loadCss("/app_plugins/SirTrevor/lib/sir-trevor-icons.css");i.loadCss("/app_plugins/SirTrevor/umbraco-backend.min.css")}]);
/*
//# sourceMappingURL=sirtrevor.controller.min.js.map
*/